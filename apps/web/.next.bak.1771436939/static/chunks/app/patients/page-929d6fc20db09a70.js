(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{6098:function(e,t,n){Promise.resolve().then(n.bind(n,8939))},8939:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(1514),s=n(7993),i=n(8378),l=n(6736);function r(e){if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{day:"2-digit",month:"short",year:"numeric"})}function c(e){return"lab_report"===e.category?"Lab report":"proforma"===e.category?"Proforma":"imaging"===e.category?"Imaging":"discharge"===e.category?"Discharge":"note"===e.category?"Note":"Attachment"}function o(e){return"active"===e?"Active":"Completed"}function d(){let[e,t]=(0,s.useState)(""),[n,d]=(0,s.useState)("all"),[u,p]=(0,s.useState)("all"),[h,m]=(0,s.useState)([]),[f,x]=(0,s.useState)(!0),[j,v]=(0,s.useState)(""),[_,g]=(0,s.useState)(""),[y,N]=(0,s.useState)(null),[b,w]=(0,s.useState)(!1),[S,k]=(0,s.useState)(""),[C,T]=(0,s.useState)("notes"),[R,E]=(0,s.useState)(""),[I,L]=(0,s.useState)(null),[O,P]=(0,s.useState)(!1),[U,F]=(0,s.useState)(""),[A,D]=(0,s.useState)(null),[V,B]=(0,s.useState)(!1),[q,z]=(0,s.useState)(""),[K,M]=(0,s.useState)(""),[W,X]=(0,s.useState)("all"),[G,J]=(0,s.useState)([]),[Q,Z]=(0,s.useState)(!1),[H,Y]=(0,s.useState)(""),[$,ee]=(0,s.useState)(null),[et,en]=(0,s.useState)(null),[ea,es]=(0,s.useState)(""),[ei,el]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let t=!0,a=a=>{a||x(!0),v(""),(0,i.fP)(e,"all"===n?void 0:n,"all"===u?void 0:u,300).then(e=>{t&&m(e)}).catch(e=>{t&&(m([]),v(e.message||"Failed to load patient library"))}).finally(()=>{t&&(a||x(!1))})},s=setTimeout(()=>a(!1),200),l=window.setInterval(()=>a(!0),12e3);return()=>{t=!1,clearTimeout(s),window.clearInterval(l)}},[u,e,n]),(0,s.useEffect)(()=>{if(0===h.length){g(""),N(null);return}h.some(e=>e.patient_key===_)||g(h[0].patient_key)},[h,_]),(0,s.useEffect)(()=>{_&&(w(!0),k(""),(0,i.kK)(_).then(e=>{N(e)}).catch(e=>{N(null),k(e.message||"Failed to load patient detail")}).finally(()=>w(!1)))},[_]),(0,s.useEffect)(()=>{var e,t,n;if(!y){E("");return}if($&&$.patientKey===y.patient.patient_key&&y.files.some(e=>e.file_id===$.fileId)){T("all"),E($.fileId),ee(null);return}let a=y.patient.selected_note_file_id||(null===(e=y.notes[0])||void 0===e?void 0:e.file_id)||(null===(t=y.lab_reports[0])||void 0===t?void 0:t.file_id)||(null===(n=y.files[0])||void 0===n?void 0:n.file_id);a&&E(a),y.notes.length>0?T("notes"):y.lab_reports.length>0?T("labs"):T("all")},[y,$]);let er=(0,s.useMemo)(()=>y&&R&&y.files.find(e=>e.file_id===R)||null,[y,R]),ec=(0,s.useMemo)(()=>y?"notes"===C?y.files.filter(e=>"proforma"===e.category||"note"===e.category):"labs"===C?y.files.filter(e=>"lab_report"===e.category):y.files:[],[y,C]);(0,s.useEffect)(()=>{if(!y||!er){L(null),F(""),D(null),z("");return}if(er.is_text){D(null),z(""),B(!1),P(!0),F(""),(0,i.Vt)(y.patient.patient_key,er.file_id).then(e=>{L(e)}).catch(e=>{L(null),F(e.message||"Failed to load note preview")}).finally(()=>P(!1));return}L(null),F(""),P(!1),B(!0),z(""),(0,i.xQ)(y.patient.patient_key,er.file_id,12e4).then(e=>{D(e)}).catch(e=>{D(null),z(e.message||"Failed to load OCR text")}).finally(()=>B(!1))},[y,er]),(0,s.useEffect)(()=>{if(!K.trim()||K.trim().length<2){J([]),Y(""),Z(!1);return}let e=!0,t=setTimeout(()=>{Z(!0),Y(""),(0,i.XT)(K.trim(),"selected"===W&&_||void 0,40).then(t=>{e&&J(t)}).catch(t=>{e&&(J([]),Y(t.message||"Search failed"))}).finally(()=>{e&&Z(!1)})},220);return()=>{e=!1,clearTimeout(t)}},[W,K,_]),(0,s.useEffect)(()=>{let e=!0,t=t=>{t||es(""),(0,i.B)().then(t=>{e&&(en(t),es(""))}).catch(t=>{e&&es(t.message||"Indexer status unavailable")})};t(!1);let n=window.setInterval(()=>t(!0),12e3);return()=>{e=!1,window.clearInterval(n)}},[]);let eo=(0,s.useMemo)(()=>({patientCount:h.length,labs:h.reduce((e,t)=>e+t.lab_report_count,0),notes:h.reduce((e,t)=>e+t.note_count,0),files:h.reduce((e,t)=>e+t.file_count,0)}),[h]),ed=er&&y?(0,i.G)(y.patient.patient_key,er.file_id):"";async function eu(){el(!0);try{let e=await (0,i.WV)(!0);en(e),es("")}catch(e){es(e instanceof Error?e.message:"Re-index request failed")}finally{el(!1)}}return(0,a.jsxs)("section",{className:"page",children:[(0,a.jsx)(l.m,{title:"Patient Library",description:"Live vault patient cards with linked proformas, lab reports, and attachment reader for daily thesis logging."}),(0,a.jsxs)("div",{className:"kpi-strip",children:[(0,a.jsxs)("div",{className:"kpi-pill",children:[(0,a.jsx)("span",{className:"kpi-pill__label",children:"Patients"}),(0,a.jsx)("span",{className:"kpi-pill__value",children:eo.patientCount})]}),(0,a.jsxs)("div",{className:"kpi-pill",children:[(0,a.jsx)("span",{className:"kpi-pill__label",children:"Lab Reports"}),(0,a.jsx)("span",{className:"kpi-pill__value",children:eo.labs})]}),(0,a.jsxs)("div",{className:"kpi-pill",children:[(0,a.jsx)("span",{className:"kpi-pill__label",children:"Notes"}),(0,a.jsx)("span",{className:"kpi-pill__value",children:eo.notes})]}),(0,a.jsxs)("div",{className:"kpi-pill",children:[(0,a.jsx)("span",{className:"kpi-pill__label",children:"Total Files"}),(0,a.jsx)("span",{className:"kpi-pill__value",children:eo.files})]})]}),(0,a.jsxs)("section",{className:"panel",children:[(0,a.jsxs)("div",{className:"panel__header",children:[(0,a.jsx)("h2",{children:"Lab Report Search"}),(0,a.jsx)("p",{children:"Marker-first OCR index with live search across Active and Completed case files."})]}),(0,a.jsxs)("div",{className:"panel__body panel__body--compact",children:[(0,a.jsxs)("div",{className:"patient-search-controls",children:[(0,a.jsx)("input",{type:"search",value:K,placeholder:"Search lab findings, values, or report text...",onChange:e=>M(e.target.value)}),(0,a.jsxs)("select",{value:W,onChange:e=>X(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All patients"}),(0,a.jsx)("option",{value:"selected",disabled:!_,children:"Current patient"})]}),(0,a.jsx)("button",{type:"button",onClick:eu,disabled:ei,children:ei?"Re-indexing...":"Re-index now"})]}),et?(0,a.jsxs)("div",{className:"patient-index-status",children:[(0,a.jsxs)("span",{children:[et.documents_indexed," indexed"]}),(0,a.jsxs)("span",{children:[et.documents_failed," failed"]}),(0,a.jsxs)("span",{children:[et.documents_total," searchable docs"]}),(0,a.jsx)("span",{children:et.running?"Indexer running":"Indexer stopped"})]}):null,ea?(0,a.jsx)("p",{className:"wizard-error",children:ea}):null,Q?(0,a.jsx)("p",{className:"text-muted",children:"Searching indexed documents..."}):null,H?(0,a.jsx)("p",{className:"wizard-error",children:H}):null,K.trim().length>=2?(0,a.jsxs)("div",{className:"patient-search-results",children:[G.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>{g(e.patient_key),ee({patientKey:e.patient_key,fileId:e.file_id}),T("all")},children:[(0,a.jsxs)("strong",{children:[e.patient_display_name||e.patient_key," - ",e.file_name]}),(0,a.jsxs)("small",{children:[e.study_id||"Study ID pending"," - ",e.case_bucket||"unknown"," - score ",e.score]}),(0,a.jsx)("p",{children:e.snippet})]},"".concat(e.patient_key,"-").concat(e.file_id,"-").concat(e.relative_path))),Q||0!==G.length?null:(0,a.jsx)("p",{className:"text-muted",children:"No document matches found."})]}):(0,a.jsx)("p",{className:"text-muted",children:"Type at least 2 characters to search OCR-indexed content."})]})]}),(0,a.jsxs)("div",{className:"patient-library-layout",children:[(0,a.jsxs)("aside",{className:"panel patient-catalog-panel",children:[(0,a.jsxs)("div",{className:"panel__header",children:[(0,a.jsx)("h2",{children:"Vault Patients"}),(0,a.jsx)("p",{children:"Search by patient name, study ID, or diagnosis."})]}),(0,a.jsxs)("div",{className:"panel__body patient-catalog-body",children:[(0,a.jsxs)("div",{className:"patient-catalog-controls",children:[(0,a.jsx)("input",{type:"search",value:e,placeholder:"Search patients...",onChange:e=>t(e.target.value)}),(0,a.jsxs)("select",{value:n,onChange:e=>d(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All groups"}),(0,a.jsx)("option",{value:"with_svt",children:"SVT only"}),(0,a.jsx)("option",{value:"without_svt",children:"Non-SVT only"}),(0,a.jsx)("option",{value:"unknown",children:"Unclassified"})]}),(0,a.jsxs)("select",{value:u,onChange:e=>p(e.target.value),children:[(0,a.jsx)("option",{value:"all",children:"All buckets"}),(0,a.jsx)("option",{value:"active",children:"Active cases"}),(0,a.jsx)("option",{value:"completed",children:"Completed cases"})]})]}),f?(0,a.jsx)("p",{className:"text-muted",children:"Loading patient cards..."}):null,j?(0,a.jsx)("p",{className:"wizard-error",children:j}):null,(0,a.jsxs)("div",{className:"patient-card-list",children:[h.map(e=>{var t;let n=e.patient_key===_;return(0,a.jsxs)("button",{type:"button",className:"patient-card".concat(n?" patient-card--active":""),onClick:()=>g(e.patient_key),children:[(0,a.jsxs)("div",{className:"patient-card__header",children:[(0,a.jsx)("h3",{children:e.display_name}),(0,a.jsx)("span",{className:"status-badge status-badge--neutral",children:"with_svt"===(t=e.svt_status)?"SVT":"without_svt"===t?"Non-SVT":"Unclassified"})]}),(0,a.jsx)("p",{className:"patient-card__subline",children:e.study_id||"Study ID pending"}),(0,a.jsx)("p",{className:"patient-card__meta",children:e.diagnosis||"Diagnosis pending"}),(0,a.jsxs)("div",{className:"patient-card__stats",children:[(0,a.jsxs)("span",{children:[e.lab_report_count," labs"]}),(0,a.jsxs)("span",{children:[e.note_count," notes"]}),(0,a.jsxs)("span",{children:[e.file_count," files"]})]}),(0,a.jsxs)("div",{className:"patient-card__footer",children:[(0,a.jsx)("span",{className:"status-badge status-badge--".concat(function(e){let t=(e||"").toLowerCase();return"completed"===t?"success":"active"===t||"enrolled"===t?"info":"terminal_outcome"===t?"warning":"neutral"}(e.cohort_status)),children:e.cohort_status||"unknown"}),(0,a.jsxs)("small",{children:[o(e.case_bucket)," - ",r(e.last_updated_at)]})]})]},e.patient_key)}),f||0!==h.length?null:(0,a.jsx)("p",{className:"text-muted",children:"No patients found for this filter."})]})]})]}),(0,a.jsxs)("section",{className:"panel patient-detail-panel",children:[(0,a.jsxs)("div",{className:"panel__header",children:[(0,a.jsx)("h2",{children:"Patient Reader"}),(0,a.jsx)("p",{children:"Open proformas, lab reports, and supporting notes directly from the vault."})]}),(0,a.jsxs)("div",{className:"panel__body patient-detail-body",children:[b?(0,a.jsx)("p",{className:"text-muted",children:"Loading patient detail..."}):null,S?(0,a.jsx)("p",{className:"wizard-error",children:S}):null,b||S||!y?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"patient-summary-grid",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:y.patient.display_name}),(0,a.jsx)("p",{className:"text-muted",children:y.patient.study_id||"Study ID not linked"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Case Bucket"}),(0,a.jsx)("p",{className:"text-muted",children:o(y.patient.case_bucket)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Ward"}),(0,a.jsx)("p",{className:"text-muted",children:y.patient.ward||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Visit"}),(0,a.jsx)("p",{className:"text-muted",children:y.patient.latest_visit||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Encounter"}),(0,a.jsx)("p",{className:"text-muted",children:r(y.patient.last_encounter_date)})]})]}),(0,a.jsxs)("div",{className:"patient-reader-shell",children:[(0,a.jsxs)("aside",{className:"patient-files-panel",children:[(0,a.jsxs)("div",{className:"patient-file-filters",children:[(0,a.jsxs)("button",{type:"button",className:"ingestion-tab".concat("notes"===C?" ingestion-tab--active":""),onClick:()=>T("notes"),children:["Notes (",y.notes.length,")"]}),(0,a.jsxs)("button",{type:"button",className:"ingestion-tab".concat("labs"===C?" ingestion-tab--active":""),onClick:()=>T("labs"),children:["Labs (",y.lab_reports.length,")"]}),(0,a.jsxs)("button",{type:"button",className:"ingestion-tab".concat("all"===C?" ingestion-tab--active":""),onClick:()=>T("all"),children:["All (",y.files.length,")"]})]}),(0,a.jsxs)("div",{className:"patient-file-list",children:[ec.map(e=>{let t=e.file_id===R;return(0,a.jsxs)("button",{type:"button",className:"patient-file-row".concat(t?" patient-file-row--active":""),onClick:()=>E(e.file_id),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:e.file_name}),(0,a.jsxs)("small",{children:[c(e)," - ",function(e){if(e<=0)return"0 B";if(e<1024)return"".concat(e," B");let t=e/1024;return t<1024?"".concat(t.toFixed(1)," KB"):"".concat((t/1024).toFixed(1)," MB")}(e.size_bytes)]})]}),(0,a.jsx)("span",{children:r(e.updated_at)})]},e.file_id)}),0===ec.length?(0,a.jsx)("p",{className:"text-muted",children:"No files for this view."}):null]})]}),(0,a.jsx)("article",{className:"patient-reader-panel",children:er?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"patient-reader-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:er.file_name}),(0,a.jsxs)("p",{className:"text-muted",children:[c(er)," - ",er.relative_path]})]}),(0,a.jsx)("a",{href:ed,target:"_blank",rel:"noreferrer",className:"sidebar__folder-link",children:"Open file"})]}),er.is_text?(0,a.jsxs)("div",{className:"patient-note-view",children:[O?(0,a.jsx)("p",{className:"text-muted",children:"Loading note preview..."}):null,U?(0,a.jsx)("p",{className:"wizard-error",children:U}):null,O||U||!I?null:I.preview_supported?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("pre",{className:"patient-note-pre",children:I.content}),I.truncated?(0,a.jsx)("p",{className:"text-muted",children:"Preview truncated for performance. Use Open file for full note."}):null]}):(0,a.jsx)("p",{className:"text-muted",children:I.message||"Preview unavailable."})]}):(0,a.jsxs)(a.Fragment,{children:[er.mime_type.startsWith("image/")?(0,a.jsx)("div",{className:"patient-media-frame-wrap",children:(0,a.jsx)("img",{className:"patient-image-preview",src:ed,alt:er.file_name})}):er.mime_type.includes("pdf")?(0,a.jsx)("iframe",{className:"patient-media-frame",title:er.file_name,src:"".concat(ed,"#toolbar=0&navpanes=0")}):(0,a.jsx)("p",{className:"text-muted",children:"Inline preview not available for this file type. Use Open file."}),(0,a.jsxs)("div",{className:"patient-note-view",children:[(0,a.jsx)("h4",{className:"patient-note-heading",children:"OCR Extracted Text"}),V?(0,a.jsx)("p",{className:"text-muted",children:"Running OCR extraction..."}):null,q?(0,a.jsx)("p",{className:"wizard-error",children:q}):null,V||q||!A?null:"indexed"===A.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("pre",{className:"patient-note-pre",children:A.content}),A.content_truncated?(0,a.jsx)("p",{className:"text-muted",children:"Extracted text is truncated in view for performance."}):null]}):(0,a.jsx)("p",{className:"text-muted",children:A.error||"OCR text not available for this file yet."})]})]})]}):(0,a.jsx)("p",{className:"text-muted",children:"Select a file to open the reader."})})]}),y.event_history.length>0?(0,a.jsx)("div",{className:"table-wrap",children:(0,a.jsxs)("table",{className:"data-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Visit"}),(0,a.jsx)("th",{children:"Encounter"}),(0,a.jsx)("th",{children:"Cohort Status"}),(0,a.jsx)("th",{children:"Ward"}),(0,a.jsx)("th",{children:"Updated"})]})}),(0,a.jsx)("tbody",{children:y.event_history.slice(0,6).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.visit_type||"-"}),(0,a.jsx)("td",{children:r(e.encounter_date)}),(0,a.jsx)("td",{children:e.cohort_status||"-"}),(0,a.jsx)("td",{children:e.ward||"-"}),(0,a.jsx)("td",{children:r(e.updated_at)})]},"".concat(e.updated_at,"-").concat(e.visit_type)))})]})}):null]}),b||S||y?null:(0,a.jsx)("p",{className:"text-muted",children:"Select a patient card to open their vault notes and reports."})]})]})]})]})}},6736:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var a=n(1514);function s(e){let{title:t,description:n,actions:s}=e;return(0,a.jsxs)("header",{className:"page-header",children:[(0,a.jsx)("h1",{className:"page-title",children:t}),(0,a.jsx)("p",{className:"page-subtitle",children:n}),s?(0,a.jsx)("div",{children:s}):null]})}},8378:function(e,t,n){"use strict";n.d(t,{B:function(){return g},Dp:function(){return p},G:function(){return N},Ov:function(){return m},Vt:function(){return j},WV:function(){return y},XT:function(){return _},Zj:function(){return c},c2:function(){return d},fP:function(){return f},iX:function(){return l},kK:function(){return x},on:function(){return h},os:function(){return u},pK:function(){return r},sD:function(){return o},xQ:function(){return v}});let a=n(3069).env.NEXT_PUBLIC_API_BASE_URL||"http://127.0.0.1:8000";async function s(e){let t=await fetch("".concat(a).concat(e),{cache:"no-store"});if(!t.ok)throw Error("Request failed: ".concat(t.status));return(await t.json()).data}async function i(e,t){let n=await fetch("".concat(a).concat(e),{method:"POST",body:t});if(!n.ok)throw Error(await n.text()||"Request failed: ".concat(n.status));return(await n.json()).data}function l(){return s("/vault/folders")}function r(){return s("/templates")}function c(e,t){let n=new EventSource("".concat(a,"/vault/stream"));return n.addEventListener("vault_tree",t=>{e(JSON.parse(t.data))}),t&&(n.onerror=()=>t()),n}async function o(e){let t=await fetch("".concat(a,"/ingestion/patient"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(await t.text()||"Failed to submit patient data");return await t.json()}async function d(e,t){let n=new FormData;for(let t of e)n.append("files",t);return t&&n.append("patient_id",t),i("/ingestion/files",n)}async function u(e){let t=new FormData;return t.append("file",e),i("/ingestion/patient-csv",t)}async function p(){let e=await fetch("".concat(a,"/ingestion/import-proformas"),{method:"POST"});if(!e.ok)throw Error(await e.text()||"Failed to import proformas");return(await e.json()).data}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=new URLSearchParams;return n.set("limit",String(t)),e&&e.trim()&&n.set("q",e.trim()),s("/ingestion/cases?".concat(n.toString()))}function m(e){return s("/ingestion/cases/".concat(encodeURIComponent(e)))}function f(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,i=new URLSearchParams;return i.set("limit",String(a)),e&&e.trim()&&i.set("q",e.trim()),t&&i.set("svt_status",t),n&&i.set("case_bucket",n),s("/patients?".concat(i.toString()))}function x(e){return s("/patients/".concat(encodeURIComponent(e)))}function j(e,t){return s("/patients/".concat(encodeURIComponent(e),"/files/").concat(encodeURIComponent(t),"/preview"))}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12e4;return s("/patients/".concat(encodeURIComponent(e),"/files/").concat(encodeURIComponent(t),"/extracted?max_chars=").concat(n))}function _(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=new URLSearchParams;return a.set("q",e),a.set("limit",String(n)),t&&a.set("patient_key",t),s("/patients/search?".concat(a.toString()))}function g(){return s("/patients/index/status")}async function y(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=new URLSearchParams;s.set("force",String(e)),t&&s.set("patient_key",t),n&&s.set("file_id",n);let i=await fetch("".concat(a,"/patients/index/reindex?").concat(s.toString()),{method:"POST"});if(!i.ok)throw Error(await i.text()||"Request failed: ".concat(i.status));return(await i.json()).data}function N(e,t){return"".concat(a,"/patients/").concat(encodeURIComponent(e),"/files/").concat(encodeURIComponent(t))}},3069:function(e,t,n){"use strict";var a,s;e.exports=(null==(a=n.g.process)?void 0:a.env)&&"object"==typeof(null==(s=n.g.process)?void 0:s.env)?n.g.process:n(7030)},7030:function(e){!function(){var t={229:function(e){var t,n,a,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function r(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:l}catch(e){n=l}}();var c=[],o=!1,d=-1;function u(){o&&a&&(o=!1,a.length?c=a.concat(c):d=-1,c.length&&p())}function p(){if(!o){var e=r(u);o=!0;for(var t=c.length;t;){for(a=c,c=[];++d<t;)a&&a[d].run();d=-1,t=c.length}a=null,o=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===l||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||o||r(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},n={};function a(e){var s=n[e];if(void 0!==s)return s.exports;var i=n[e]={exports:{}},l=!0;try{t[e](i,i.exports,a),l=!1}finally{l&&delete n[e]}return i.exports}a.ab="//";var s=a(229);e.exports=s}()}},function(e){e.O(0,[869,753,744],function(){return e(e.s=6098)}),_N_E=e.O()}]);