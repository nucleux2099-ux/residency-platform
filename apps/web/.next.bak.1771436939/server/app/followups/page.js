"use strict";(()=>{var e={};e.id=350,e.ids=[350],e.modules={7849:e=>{e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5298:(e,s,a)=>{a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(7507),a(5133),a(4872);var l=a(1218),t=a(8345),r=a(4380),n=a.n(r),i=a(306),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(s,o);let d=["",{children:["followups",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7507)),"/Users/sarathchandrabhatla/Library/Mobile Documents/iCloud~md~obsidian/Documents/Thesis2099/residency-platform/apps/web/src/app/followups/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,5133)),"/Users/sarathchandrabhatla/Library/Mobile Documents/iCloud~md~obsidian/Documents/Thesis2099/residency-platform/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,4872,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/sarathchandrabhatla/Library/Mobile Documents/iCloud~md~obsidian/Documents/Thesis2099/residency-platform/apps/web/src/app/followups/page.tsx"],u="/followups/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new l.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/followups/page",pathname:"/followups",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7507:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(8529),t=a(1848),r=a(9563),n=a(5430),i=a(3525);async function o(){let e=await (0,t.zM)(),s=e.items.reduce((e,s)=>(e[s.status]=(e[s.status]||0)+1,e),{}),a=Math.max(e.items.length,1);return(0,l.jsxs)("section",{className:"page",children:[l.jsx(i.m,{title:"Follow-up Monitor",description:"Tracks due and overdue follow-ups based on protocol windows."}),(0,l.jsxs)("div",{className:"kpi-strip",children:[(0,l.jsxs)("div",{className:"kpi-pill",children:[l.jsx("span",{className:"kpi-pill__label",children:"Overdue"}),l.jsx("span",{className:"kpi-pill__value",children:e.overdue_count})]}),(0,l.jsxs)("div",{className:"kpi-pill",children:[l.jsx("span",{className:"kpi-pill__label",children:"Due Soon"}),l.jsx("span",{className:"kpi-pill__value",children:e.due_soon_count})]}),(0,l.jsxs)("div",{className:"kpi-pill",children:[l.jsx("span",{className:"kpi-pill__label",children:"Rows"}),l.jsx("span",{className:"kpi-pill__value",children:e.items.length})]})]}),(0,l.jsxs)("article",{className:"panel",children:[(0,l.jsxs)("div",{className:"panel__header",children:[l.jsx("h2",{children:"Status Distribution"}),l.jsx("p",{children:"Counts by follow-up urgency class."})]}),(0,l.jsxs)("div",{className:"panel__body panel__body--compact",children:[l.jsx(r.n,{label:"Overdue Follow-ups",value:s.overdue||0,max:a,color:"var(--color-danger-600)"}),l.jsx(r.n,{label:"Due Soon Follow-ups",value:s.due_soon||0,max:a,color:"var(--color-warning-600)"}),l.jsx(r.n,{label:"Scheduled Follow-ups",value:s.scheduled||0,max:a,color:"var(--color-primary-500)"}),l.jsx(r.n,{label:"Complete Follow-ups",value:s.complete||0,max:a,color:"var(--color-success-600)"})]})]}),l.jsx("div",{className:"table-wrap",style:{maxHeight:"72vh"},children:(0,l.jsxs)("table",{className:"data-table",children:[l.jsx("thead",{children:(0,l.jsxs)("tr",{children:[l.jsx("th",{children:"Patient"}),l.jsx("th",{children:"Group"}),l.jsx("th",{children:"Next Visit"}),l.jsx("th",{children:"Due Date"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Priority"}),l.jsx("th",{children:"Days Until Due"}),l.jsx("th",{children:"Days Overdue"})]})}),l.jsx("tbody",{children:e.items.map(e=>{var s,a;return(0,l.jsxs)("tr",{children:[l.jsx("td",{children:e.patient_id}),l.jsx("td",{children:"with_svt"===e.svt_status?"SVT":"Non-SVT"}),l.jsx("td",{children:e.next_visit||"-"}),l.jsx("td",{children:e.due_date||"-"}),l.jsx("td",{children:l.jsx(n.O,{label:e.status,tone:"overdue"===(s=e.status)?"danger":"due_soon"===s?"warning":"scheduled"===s?"info":"complete"===s?"success":"neutral"})}),l.jsx("td",{children:l.jsx(n.U,{level:"overdue"===(a=e.status)?"critical":"due_soon"===a||"insufficient_data"===a?"high":"scheduled"===a?"medium":"complete"===a?"low":"none"})}),l.jsx("td",{children:e.days_until_due??"-"}),l.jsx("td",{children:e.days_overdue>0?e.days_overdue:"-"})]},e.patient_id)})})]})})]})}},5430:(e,s,a)=>{a.d(s,{O:()=>t,U:()=>n});var l=a(8529);function t({label:e,tone:s="neutral"}){let a=e.replaceAll("_"," ");return l.jsx("span",{className:`status-badge status-badge--${s}`,children:a})}let r={none:"neutral",low:"info",medium:"warning",high:"danger",critical:"danger"};function n({level:e}){let s="none"===e?"none":`${e} priority`;return l.jsx(t,{label:s,tone:r[e]})}},9563:(e,s,a)=>{a.d(s,{f:()=>r,n:()=>t});var l=a(8529);function t({label:e,value:s,max:a,color:t="var(--accent)"}){let r=Math.max(0,Math.min(100,s/(a<=0?1:a)*100));return(0,l.jsxs)("div",{className:"chart-row",children:[(0,l.jsxs)("div",{className:"chart-row__meta",children:[l.jsx("span",{children:e}),(0,l.jsxs)("strong",{children:[s,"/",a]})]}),l.jsx("div",{className:"chart-track",children:l.jsx("div",{className:"chart-fill",style:{width:`${r}%`,background:t}})})]})}function r({value:e}){let s=Math.max(0,Math.min(100,e));return(0,l.jsxs)("div",{className:"percentage-bar",children:[l.jsx("div",{className:"percentage-bar__track",children:l.jsx("div",{className:"percentage-bar__fill",style:{width:`${s}%`,background:s>=90?"#027a48":s>=70?"#b54708":"#b42318"}})}),(0,l.jsxs)("span",{className:"percentage-bar__label",children:[s,"%"]})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),l=s.X(0,[553,895],()=>a(5298));module.exports=l})();